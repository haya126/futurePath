# -*- coding: utf-8 -*-
"""future path.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1wIhaBWLcfAQK-xIvg5HDw1v4GwPCzf24
"""

# -*- coding: utf-8 -*-
from collections import OrderedDict
import streamlit as st

# ------------------ HIDE DEFAULT STREAMLIT MENU ------------------
st.markdown("""
    <style>
    #MainMenu {visibility: hidden;}
    footer {visibility: hidden;}
    header {visibility: hidden;}
    </style>
    """, unsafe_allow_html=True)

st.set_page_config(page_title="Ù…Ù†ØµÙ‡ ØªØ®ØµØµÙŠ", layout="centered")

# ------------------ GLOBAL STYLE ------------------
st.markdown("""
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap');

        body {
            direction: rtl;
            text-align: right;
            background-color: #F9F7F1;
        }

        * {
            font-family: 'Tajawal', sans-serif !important;
        }

        h1, h2 {
            text-align: center !important;
            font-weight: 700;
            color: #2C2C2C;
            text-shadow: 0px 1px 4px rgba(0, 0, 0, 0.1);
        }

        label, .stNumberInput label {
            font-size: 16px;
            font-weight: 500;
            color: #444;
        }

        .stTextInput > div > div > input,
        .stNumberInput > div > div > input {
            text-align: right;
            font-size: 15px;
        }

        .stNumberInput {
            margin-bottom: 20px;
        }
    </style>
""", unsafe_allow_html=True)


# ------------------ UNIVERSITY SELECTION ------------------
st.markdown("<h1 style='text-align: right;'>Ø§Ø®ØªØ± Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©</h1>", unsafe_allow_html=True)

university = st.selectbox(
    "Ø§Ø®ØªØ± Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©:",
    [
        "Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„ÙƒÙˆÙŠØª",
        "Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠØ© ÙÙŠ Ø§Ù„Ø´Ø±Ù‚ Ø§Ù„Ø£ÙˆØ³Ø· (AUM)",
        "Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠØ© ÙÙŠ Ø§Ù„ÙƒÙˆÙŠØª (AUK)",
        "Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø®Ù„ÙŠØ¬ÙŠØ© Ù„Ù„Ø¹Ù„ÙˆÙ… ÙˆØ§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ (GUST)"
    ]
)

st.markdown(f"<h1 style='text-align:right;'>Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„ØªØ®ØµØµ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ùƒ ÙÙŠ {university}</h1>", unsafe_allow_html=True)

# ------------------ INPUT FIELDS ------------------
if university == "Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„ÙƒÙˆÙŠØª":
    st.subheader("Ø£Ø¯Ø®Ù„ Ø¯Ø±Ø¬Ø§ØªÙƒ")
    gpa = st.number_input(" Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø© Ùª", 0.0, 100.0, step=0.01, format="%g")
    math = st.number_input(" Ø¯Ø±Ø¬Ø© Ø§Ù„Ù‚Ø¯Ø±Ø§Øª â€“ Ø±ÙŠØ§Ø¶ÙŠØ§Øª Ùª", 0.0, 100.0, step=0.01, format="%g")
    english = st.number_input(" Ø¯Ø±Ø¬Ø© Ø§Ù„Ù‚Ø¯Ø±Ø§Øª â€“ Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠ Ùª", 0.0, 100.0, step=0.01, format="%g")
    arabic = st.number_input(" Ø¯Ø±Ø¬Ø© Ø§Ù„Ù‚Ø¯Ø±Ø§Øª â€“ Ø¹Ø±Ø¨ÙŠ Ùª (Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…Ø·Ù„ÙˆØ¨Ø©)", 0.0, 100.0, step=0.01, format="%g")
    french = st.number_input(" Ø¯Ø±Ø¬Ø© Ø§Ù„Ù‚Ø¯Ø±Ø§Øª â€“ ÙØ±Ù†Ø³ÙŠ Ùª (Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…Ø·Ù„ÙˆØ¨Ø©)", 0.0, 100.0, step=0.01, format="%g")

elif university == "Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠØ© ÙÙŠ Ø§Ù„Ø´Ø±Ù‚ Ø§Ù„Ø£ÙˆØ³Ø· (AUM)":
    st.subheader("Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ")
    gpa = st.number_input(" Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø© Ùª", 0.0, 100.0, step=0.01, format="%g")
    english = st.number_input(" Ø¯Ø±Ø¬Ø© Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© (IELTS Ø£Ùˆ TOEFL) Ùª", 0.0, 100.0, step=0.01, format="%g")
    math, arabic, french = 0, 0, 0

elif university == "Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠØ© ÙÙŠ Ø§Ù„ÙƒÙˆÙŠØª (AUK)":
    st.subheader("Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ")
    gpa = st.number_input(" Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø© Ùª", 0.0, 100.0, step=0.01, format="%g")
    english = st.number_input(" Ø¯Ø±Ø¬Ø© Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ùª", 0.0, 100.0, step=0.01, format="%g")
    math, arabic, french = 0, 0, 0

elif university == "Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø®Ù„ÙŠØ¬ÙŠØ© Ù„Ù„Ø¹Ù„ÙˆÙ… ÙˆØ§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ (GUST)":
    st.subheader("Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ")
    gpa = st.number_input(" Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø© Ùª", 0.0, 100.0, step=0.01, format="%g")
    english = st.number_input(" Ø¯Ø±Ø¬Ø© Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© Ùª", 0.0, 100.0, step=0.01, format="%g")
    math, arabic, french = 0, 0, 0


# ------------------ INTEREST SELECTION ------------------
st.subheader("Ø§Ø®ØªÙŠØ§Ø± Ù…Ø¬Ø§Ù„ Ø§Ù‡ØªÙ…Ø§Ù…Ùƒ")
interest = st.selectbox(" Ø´Ù†Ùˆ Ù†ÙˆØ¹ Ø§Ù„ØªØ®ØµØµØ§Øª Ø§Ù„Ù„ÙŠ ØªÙ…ÙŠÙ„ Ù„Ù‡Ø§ Ø£ÙƒØ«Ø±ØŸ", [
    "Ø§Ù„Ù…Ø¬Ø§Ù„ Ø§Ù„Ø·Ø¨ÙŠ ÙˆØ§Ù„ØµØ­ÙŠ ğŸ¥",
    "Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© ÙˆØ§Ù„ØªÙ‚Ù†ÙŠØ© âš™ï¸",
    "Ø§Ù„ØªØ­Ù„ÙŠÙ„ ÙˆØ§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª ğŸ“Š",
    "Ø§Ù„Ù‚Ø§Ù†ÙˆÙ† ÙˆØ§Ù„Ù‚Ø±Ø§Ø¡Ø© ğŸ“š",
    "Ø§Ù„ÙÙ†ÙˆÙ† ÙˆØ§Ù„ØªØµÙ…ÙŠÙ… ğŸ¨",
    "Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠØ© ğŸ§ª",
    "Ø§Ù„ØªØ±Ø¨ÙŠØ© ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ… ğŸ‘©â€ğŸ«"
])

# ------------------ STREAM SELECTION (FOR KU ONLY) ------------------
if university == "Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„ÙƒÙˆÙŠØª":
    stream = st.radio("Ù‡Ù„ Ø£Ù†Øª Ù…Ù† Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø¹Ù„Ù…ÙŠ Ø£Ù… Ø§Ù„Ø£Ø¯Ø¨ÙŠØŸ", ["Ø¹Ù„Ù…ÙŠ", "Ø£Ø¯Ø¨ÙŠ"])
else:
    stream = "Ø¹Ù„Ù…ÙŠ"

# ------------------ UNIVERSITIES AND COLLEGES DATA ------------------

# --- Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„ÙƒÙˆÙŠØª ---
kuwait_university_colleges = OrderedDict({
    # Paste your full KU data dictionary here exactly as before
})

# --- Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠØ© ÙÙŠ Ø§Ù„Ø´Ø±Ù‚ Ø§Ù„Ø£ÙˆØ³Ø· (AUM) ---
aum_colleges = {
    "College of Engineering and Technology": {
        "weights": {"gpa": 80, "english": 20},
        "min_score": 70.0,
        "interests": ["Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© ÙˆØ§Ù„ØªÙ‚Ù†ÙŠØ© âš™ï¸", "Ø§Ù„ØªØ­Ù„ÙŠÙ„ ÙˆØ§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª ğŸ“Š"],
        "years": 4,
        "paths": ["Mechanical Engineering", "Civil Engineering", "Computer Engineering", "Industrial Engineering"]
    },
    "College of Business Administration": {
        "weights": {"gpa": 85, "english": 15},
        "min_score": 65.0,
        "interests": ["Ø§Ù„ØªØ­Ù„ÙŠÙ„ ÙˆØ§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª ğŸ“Š", "Ø§Ù„Ù‚Ø§Ù†ÙˆÙ† ÙˆØ§Ù„Ù‚Ø±Ø§Ø¡Ø© ğŸ“š"],
        "years": 4,
        "paths": ["Finance", "Marketing", "Accounting", "Management Information Systems"]
    },
    "College of Design": {
        "weights": {"gpa": 80, "english": 20},
        "min_score": 65.0,
        "interests": ["Ø§Ù„ÙÙ†ÙˆÙ† ÙˆØ§Ù„ØªØµÙ…ÙŠÙ… ğŸ¨"],
        "years": 4,
        "paths": ["Graphic Design", "Interior Design"]
    }
}

# --- Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠØ© ÙÙŠ Ø§Ù„ÙƒÙˆÙŠØª (AUK) ---
auk_colleges = {
    "College of Arts and Sciences": {
        "weights": {"gpa": 85, "english": 15},
        "min_score": 60.0,
        "interests": ["Ø§Ù„Ù‚Ø§Ù†ÙˆÙ† ÙˆØ§Ù„Ù‚Ø±Ø§Ø¡Ø© ğŸ“š", "Ø§Ù„ÙÙ†ÙˆÙ† ÙˆØ§Ù„ØªØµÙ…ÙŠÙ… ğŸ¨"],
        "years": 4,
        "paths": ["English Literature", "Communication & Media", "Graphic Design", "International Relations"]
    },
    "College of Business and Economics": {
        "weights": {"gpa": 85, "english": 15},
        "min_score": 60.0,
        "interests": ["Ø§Ù„ØªØ­Ù„ÙŠÙ„ ÙˆØ§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª ğŸ“Š"],
        "years": 4,
        "paths": ["Accounting", "Finance", "Marketing", "Management"]
    },
    "College of Engineering and Applied Sciences": {
        "weights": {"gpa": 80, "english": 20},
        "min_score": 70.0,
        "interests": ["Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© ÙˆØ§Ù„ØªÙ‚Ù†ÙŠØ© âš™ï¸"],
        "years": 4,
        "paths": ["Computer Engineering", "Electrical Engineering"]
    }
}

# --- Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø®Ù„ÙŠØ¬ÙŠØ© Ù„Ù„Ø¹Ù„ÙˆÙ… ÙˆØ§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ (GUST) ---
gust_colleges = {
    "College of Business Administration": {
        "weights": {"gpa": 85, "english": 15},
        "min_score": 70.0,
        "interests": ["Ø§Ù„ØªØ­Ù„ÙŠÙ„ ÙˆØ§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª ğŸ“Š"],
        "years": 4,
        "paths": ["Accounting", "Finance", "Marketing", "Management", "Economics"]
    },
    "College of Arts and Humanities": {
        "weights": {"gpa": 90, "english": 10},
        "min_score": 65.0,
        "interests": ["Ø§Ù„Ù‚Ø§Ù†ÙˆÙ† ÙˆØ§Ù„Ù‚Ø±Ø§Ø¡Ø© ğŸ“š", "Ø§Ù„ÙÙ†ÙˆÙ† ÙˆØ§Ù„ØªØµÙ…ÙŠÙ… ğŸ¨"],
        "years": 4,
        "paths": ["English Literature", "Mass Communication", "Public Relations", "Linguistics"]
    }
}

universities = {
    "Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„ÙƒÙˆÙŠØª": kuwait_university_colleges,
    "Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠØ© ÙÙŠ Ø§Ù„Ø´Ø±Ù‚ Ø§Ù„Ø£ÙˆØ³Ø· (AUM)": aum_colleges,
    "Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠØ© ÙÙŠ Ø§Ù„ÙƒÙˆÙŠØª (AUK)": auk_colleges,
    "Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø®Ù„ÙŠØ¬ÙŠØ© Ù„Ù„Ø¹Ù„ÙˆÙ… ÙˆØ§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ (GUST)": gust_colleges
}


# ------------------ RESULTS SECTION ------------------
if st.button(" Ø§Ù‚ØªØ±Ø­ Ø§Ù„ØªØ®ØµØµØ§Øª"):
    matched = []
    selected_colleges = universities[university]

    for name, data in selected_colleges.items():
        if "stream" in data and data["stream"] != stream:
            continue

        if interest not in data["interests"]:
            continue

        weights = data["weights"]
        score = 0
        if "gpa" in weights:
            score += gpa * (weights["gpa"] / 100)
        if "math" in weights:
            score += math * (weights["math"] / 100)
        if "english" in weights:
            score += english * (weights["english"] / 100)
        if "arabic" in weights:
            score += arabic * (weights["arabic"] / 100)
        if "french" in weights:
            score += french * (weights["french"] / 100)

        final_score = round(score, 2)

        if final_score >= data["min_score"]:
            matched.append((name, data, final_score))

    if matched:
        st.success(" Ù‡Ø°Ù‡ Ø§Ù„ØªØ®ØµØµØ§Øª ØªÙ†Ø§Ø³Ø¨Ùƒ Ø­Ø³Ø¨ Ø¯Ø±Ø¬Ø§ØªÙƒ ÙˆØ§Ù‡ØªÙ…Ø§Ù…Ø§ØªÙƒ")
        for name, data, final_score in matched:
            paths = ", ".join(data["paths"]) if "paths" in data else "ØºÙŠØ± Ù…Ø­Ø¯Ø¯"
            st.markdown(f"""
            <div style='border-right: 6px solid #003366; padding: 20px 25px; margin: 20px 0; background-color: #f9f9f9; border-radius: 10px;'>
                <h3 style='margin-bottom: 10px;'>{name}</h3>
                <p><strong> Ù…Ø¹Ø¯Ù„Ùƒ Ø§Ù„Ù…ÙƒØ§ÙØ¦:</strong> {final_score}%</p>
                <p><strong> Ø³Ù†ÙˆØ§Øª Ø§Ù„Ø¯Ø±Ø§Ø³Ø©:</strong> {data['years']} Ø³Ù†ÙˆØ§Øª</p>
                <p><strong> Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ù…ØªØ§Ø­Ø©:</strong> {paths}</p>
            </div>
            """, unsafe_allow_html=True)

        st.markdown("""
        <div style='text-align:center; font-size:13px; color:#666; margin-top:30px;'>
            ğŸ“Œ <em>Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ø¨Ù†ÙŠØ© Ø¹Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§Øª Ø±Ø³Ù…ÙŠØ© Ù…Ù† Ø§Ù„Ø¬Ø§Ù…Ø¹Ø§Øª Ù„Ù„Ø³Ù†Ø© Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ© 2025â€“2026. Ù‚Ø¯ ØªØªØºÙŠØ± Ø§Ù„Ù…Ø¹Ø¯Ù„Ø§Øª ÙÙŠ Ø§Ù„Ø³Ù†ÙˆØ§Øª Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©.</em>
        </div>
        """, unsafe_allow_html=True)
    else:
        st.warning("Ø¹Ø°Ø±Ù‹Ø§ØŒ Ù„Ù… Ù†Ø¬Ø¯ ØªØ®ØµØµØ§Øª ØªØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø¯Ø±Ø¬Ø§ØªÙƒ ÙˆØ§Ù‡ØªÙ…Ø§Ù…Ø§ØªÙƒ. Ø¬Ø±Ù‘Ø¨ Ù…Ø¬Ø§Ù„ Ø¢Ø®Ø± Ø£Ùˆ ØªØ­Ù‚Ù‚ Ù…Ù† Ø¨ÙŠØ§Ù†Ø§ØªÙƒ.")